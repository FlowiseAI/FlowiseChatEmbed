<!--
  NOTE: This .html file (and public folder) is optional and can be safely deleted.
  It serves only as a demo/test page.
  
  The chatbot can be embedded directly on any allowed domain using the embed script that
  is generated when starting the server.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flowise Chatbot Widget</title>
</head>

<body>
    <div id="root"></div>
    <script type="module">
        import Chatbot from './web.js'
        
        // Example initialization:
        // If your .env contains:
        // agent1=xyz789-uvw456,https://example.com
        // support=abc123-def456,https://example.com
        // salesbot=ghi123-jkl456,https://example.com
        //
        // Then use the environment variable name as chatflowid:
        Chatbot.initFull({
            chatflowid: '09969c15-b7b3-49a4-bd25-0cc8b62be702',    // or 'support', 'salesbot', etc.
            apiHost: 'https://flowise.tobeway.com:3000',
            chatflowConfig: {
                vars: {
                    mdmModule: 'MDM'
                }
            },
            theme: {
                chatWindow: {
                    botMessage: {
                        backgroundColorEmphasize: '#E0F7FA'
                    }
                }
            },
            observersConfig: {
                // The bot message stack has changed
                observeMessages: (messages) => {
                    //console.log({ messages });
                },
                // Source link has clicked
                observeSourceClick: (source) => {
                    if (source && source.metadata) {
                        alert('PDF Viewer를 띄우겠습니다.' + source.metadata.solution + ' ' + source.metadata.solution + ' page');
                    }
                    //console.log(source.metadata.solution);
                }
            }         
        })
    </script>
    <div id="chatbot-container">
        <flowise-fullchatbot></flowise-fullchatbot>
    </div>
</body>

</html>